<div class="container loan-page">
  <div class="loan-card">
    <h2>Loan book</h2>
    <p class="muted">Book ID: {{ bookId }}</p>

    <ng-container *ngIf="!isLoggedIn">
      <p>You must be logged in to loan a book.</p>
      <a routerLink="/auth/login" class="btn primary">Login</a>
    </ng-container>

    <ng-container *ngIf="isLoggedIn">
      <form [formGroup]="form" (ngSubmit)="submit()">
        <label for="endDate">Return date</label>
        <input
          id="endDate"
          type="date"
          formControlName="endDate"
          class="input"
        />

        <button class="btn primary" type="submit" [disabled]="loading">
          {{ loading ? 'Creating loan...' : 'Confirm loan' }}
        </button>
      </form>

      <p *ngIf="error" class="error">{{ error }}</p>
      <p *ngIf="success" class="success">Loan created!</p>
    </ng-container>
  </div>
</div>
